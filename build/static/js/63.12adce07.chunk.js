"use strict";(self.webpackChunkmarvel_api_project=self.webpackChunkmarvel_api_project||[]).push([[63],{341:function(e,n,t){var s=t(671),c=t(466),r=t(136),i=t(516),a=t(791),l=t(850),o=t(184),u=function(e){(0,r.Z)(t,e);var n=(0,i.Z)(t);function t(){var e;(0,s.Z)(this,t);for(var c=arguments.length,r=new Array(c),i=0;i<c;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).state={error:!1},e}return(0,c.Z)(t,[{key:"componentDidCatch",value:function(e,n){console.log(e,n),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,o.jsx)(l.Z,{}):this.props.children}}]),t}(a.Component);n.Z=u},381:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var s=t(433),c=t(439),r=t(87),i=t(791),a=t(850),l=t(394),o=t(482),u=t(184),m=function(){var e=(0,o.Z)(),n=e.getAllComics,t=e._comicsOffset,m=e.loading,d=e.error,h=(0,i.useState)([]),f=(0,c.Z)(h,2),j=f[0],p=f[1],x=(0,i.useState)(!1),v=(0,c.Z)(x,2),Z=v[0],g=v[1],b=(0,i.useState)(0),N=(0,c.Z)(b,2),k=N[0],_=N[1],y=(0,i.useState)(!1),C=(0,c.Z)(y,2),S=C[0],w=C[1];(0,i.useEffect)((function(){_(t),A(t,!0)}),[]);var A=function(e,t){g(!t),n(e).then(D)},D=function(e){var n=!1;e.length<8&&(n=!0),p((function(n){return[].concat((0,s.Z)(n),(0,s.Z)(e))})),g(!1),_((function(e){return e+8})),w(n)},E=(0,i.useRef)([]),F=function(e){var n=[],t=e.map((function(t){return 0===e.length||n.includes(t.id)?null:(n.push(t.id),(0,u.jsxs)("section",{className:"comics__item",ref:E,children:[(0,u.jsx)(r.rU,{to:"/comics/".concat(t.id),children:(0,u.jsx)("div",{className:"item-img",children:(0,u.jsx)("img",{src:t.thumbnail,alt:t.title})})}),(0,u.jsxs)("div",{className:"item-text",children:[(0,u.jsx)("h2",{className:"title",children:t.title}),(0,u.jsx)("span",{className:"price",children:t.price})]})]},t.id))}));return(0,u.jsx)(u.Fragment,{children:t})}(j),I=d?(0,u.jsx)(a.Z,{}):null,L=m&&!Z?(0,u.jsx)(l.Z,{}):null;return(0,u.jsxs)("section",{className:"comics-store",children:[I,L,F,(0,u.jsx)("button",{className:"comics-btn",disabled:Z,style:{display:S||j.length<1?"none":"block"},onClick:function(){return A(k)},children:"Load more"})]})},d=t.p+"static/media/banner.0cf1fd990e09ea7bec27.jpg",h=function(){return(0,u.jsx)("section",{className:"banner",children:(0,u.jsx)("img",{src:d,alt:"comics banner"})})},f=t(341),j=function(){return(0,u.jsxs)("div",{className:"bg__art",style:{backgroundImage:"none"},children:[(0,u.jsx)(h,{}),(0,u.jsx)("main",{className:"main",children:(0,u.jsx)(f.Z,{children:(0,u.jsx)(m,{})})})]})}}}]);
//# sourceMappingURL=63.12adce07.chunk.js.map